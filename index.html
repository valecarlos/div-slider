<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Carousel Slider</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,900' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <link rel="stylesheet" type="text/css" href="css/prism.css">
</head>
<body>
	<header id="slider">
		<a class= "logo-container" href="http://www.carlosvalencia.co"><img src="img/CVLogo.svg"></a>
		<ul class= "nav-bar">
			<li><a href="http://www.carlosvalencia.co/#abs-top">Home</a></li>
			<li><a href="http://www.carlosvalencia.co/#contact">Contact</a></li>
			<li><a href="http://www.carlosvalencia.co/#about">About</a></li>
		</ul>
		<ul class= "slider-nav">

		</ul>
		<div class="main-header-1 active">
			<div class="inner-header">
				<h1>Carlos Andres Valencia</h1>
				<p>This is a pretty cool slider!</p>
				<a href="#">Portfolio</a>
			</div>
		</div>
		<div class="main-header-2">
			<div class="inner-header">
				<h1>My second Header</h1>
				<p>This is amazing</p>
				<a href="#">Contact me</a>
			</div>
		</div>
		<div class="main-header-3">
			<div class="inner-header">
				<h1>My third Header</h1>
				<p>This is awesome</p>
				<a href="#">Contact you</a>
			</div>
		</div>
		<div class="main-header-4">
			<div class="inner-header">
				<h1>My fourth Header</h1>
				<p>This is unbelievable</p>
				<a href="#">Contact us</a>
			</div>
		</div>
	</header>
	<section class="article-body">
		<h1>Carousel Slider Module using the Revealing Module Pattern</h1>
		<p>In the development of this module, we are going to implement the <a href="">revealing module pattern</a>	in order to make our component re-usable, and to create private variables, which should not be updated from the outside and are only</p>
			<pre>
				<code class="language-javascript">
					$(document).ready(function(){
						var Slider = function(opt){
							var slider = {};
							var currentSlide = 0;
							var nextSlide = 1;
							var sliderInterval;
					
							var _init = function(options){
								//recieve options, we need the -el- attribute
								slider.el = $(options.el); 
								slider.items = slider.el.find("[class^='main-header']");
								slider.sliderLength = slider.items.length;
								slider.offset = slider.el.children().length - slider.sliderLength;
								createNavigation();
								setSliderInterval();
					
							}
					
							var createNavigation = function(){
								//create the -buttons- to navigate between slides
								var ulSlider = slider.el.find('.slider-nav'); //position this where you want your navigation buttons to be
								var newLI = '<li></li>';
								var newLIActive = '<li class= "active-button"></li>';
								for (var i = 0; i< slider.sliderLength ; i++){
									if (i === 0){
										ulSlider.append(newLIActive);	
									}
									else{
										ulSlider.append(newLI);
									}
								}
								addEventListeners();
							};
					
							var addEventListeners = function(){
								// add event binders to the dynamically added li elements
								slider.el.find('.slider-nav').on('click', 'li', function() {
									//set this -> this will be the  to be the next slide, stop the function interval and start it again 
									nextSlide = $(this).index();
									clearInterval(sliderInterval);
									startSlider();
									setSliderInterval();
								});
							}
					
							var setSliderInterval = function(){
								sliderInterval = setInterval(startSlider, 4000);
							};
					
							var startSlider = function(){
								var mainDivs = slider.items;
								var ulSlider = slider.el.find('.slider-nav');
								//which slide comes next?
								if(nextSlide >= slider.sliderLength){
									nextSlide = 0;
									currentSlide = slider.sliderLength -1;
								}
					
								//animations using the eq selector
								//we first add the animation class, and then remove the previous one we don't want
								//toggle class, it results in an unwanted behaviour
								mainDivs.eq(currentSlide).find('h1').addClass('fade-out-bottom-top');
								mainDivs.eq(currentSlide).find('h1').removeClass('fade-in-top-bottom');
					
								mainDivs.eq(currentSlide).find('p').addClass('fade-out-left-right');
								mainDivs.eq(currentSlide).find('p').removeClass('fade-in-left-right');
					
								mainDivs.eq(currentSlide).find('a').addClass('fade-out-top-bottom');
								mainDivs.eq(currentSlide).find('a').removeClass('fade-in-bottom-top');
					
								mainDivs.eq(currentSlide).fadeOut('slow');
					
								mainDivs.eq(nextSlide).find('h1').addClass('fade-in-top-bottom');
								mainDivs.eq(nextSlide).find('h1').removeClass('fade-out-bottom-top');
								
								mainDivs.eq(nextSlide).find('p').addClass('fade-in-left-right');
								mainDivs.eq(nextSlide).find('p').removeClass('fade-out-left-right');
					
								mainDivs.eq(nextSlide).find('a').addClass('fade-in-bottom-top');
								mainDivs.eq(nextSlide).find('a').removeClass('fade-out-top-bottom');
								
								mainDivs.eq(nextSlide).delay(300).fadeIn('slow');
					
								//find offset of child elements to use their index to match the current slide with the selected button
								ulSlider.children().removeClass("active-button");
								ulSlider.children().eq(mainDivs.eq(nextSlide).index() - slider.offset).addClass("active-button");
					
					
								//update variables
								currentSlide = nextSlide;
								nextSlide += 1;
							};
					
							return {
								init: _init // reveal only the init function
							}
							
						}
						var headerSlider = new Slider();
						headerSlider.init({el: '#slider'});
					});
				</code>
			</pre>
	</section>
	<footer>
	</footer>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script src="js/prism.js"></script>
	<script src="js/script.js"></script>
</body>
</html>