<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Carousel Slider</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,900' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <link rel="stylesheet" type="text/css" href="css/prism.css">
</head>
<body>
	<header id="slider">
		<a class= "logo-container" href="http://www.carlosvalencia.co"><img src="img/CVLogo.svg"></a>
		<ul class= "nav-bar">
			<li><a href="http://www.carlosvalencia.co/#abs-top">Home</a></li>
			<li><a href="http://www.carlosvalencia.co/#contact">Contact</a></li>
			<li><a href="http://www.carlosvalencia.co/#about">About</a></li>
		</ul>
		<ul class= "slider-nav">

		</ul>
		<div class="main-header-1 active">
			<div class="inner-header">
				<h1>Carlos Andres Valencia</h1>
				<p>This is a pretty cool slider!</p>
				<a href="#">Portfolio</a>
			</div>
		</div>
		<div class="main-header-2">
			<div class="inner-header">
				<h1>My second Header</h1>
				<p>This is amazing</p>
				<a href="#">Contact me</a>
			</div>
		</div>
		<div class="main-header-3">
			<div class="inner-header">
				<h1>My third Header</h1>
				<p>This is awesome</p>
				<a href="#">Contact you</a>
			</div>
		</div>
		<div class="main-header-4">
			<div class="inner-header">
				<h1>My fourth Header</h1>
				<p>This is unbelievable</p>
				<a href="#">Contact us</a>
			</div>
		</div>
	</header>
	<section class="article-body">
		<h1>Carousel Slider Module using the Revealing Module Pattern</h1>
		<p>In the development of this module, we are going to implement the <a href="">revealing module pattern</a>	in order to make our component re-usable and to create private variables which should <strong>not</strong> be updated from the outside and are only</p>
		<p>
			We start by declaring a simple <span class="code">Slider</span> function that will take an <span class="code">options</span> object, for now we just need a selector <span class="code">el</span> that we can use to reference an existing element/node in the HTML file and a time value given in miliseconds <span class="code">sliderTimeInterval</span> which we will use as the time interval a slide stays on the screen before moving to the next one.
		</p>
		<p>
			Once we have our Slider constructor into place we are going to declare some variables that we will need to reference later on from the different worker functios, these variables will be:
			<ul>
				<li>
					<span class="code">slider = {};</span> which is going to be a useful object that will be accesible through closure to all of our inner functions, this way we can add/use new properties that we can easily reference from anywhere inside our module.
				</li>
				<li>
					<span class="code">currentSlide = 0;</span> and <span class="code">nextSlide = 1;</span> we will use these two to keep track of where we are and which slide comes next, this will be useful when we use the navigation panel to quickly jump to any slide. 
				</li>

				<li>
					<span class="code">sliderInterval = false;</span> this is the variable we are going to use to start/stop the execution of the animation to move to the next slide with the help of javascript's <span class="code">setInerval</span> function.
				</li>
			</ul>
		</p>
		<p>
			Now that we have our initial variables, we are goint to start with the implementation of our revealing module pattern so, we are going to return an object literal, which will be empty for now, but there it's where we want to make our private variables/function available to the outside world.
		</p>
		<p>We should now add a simple validation to know whether we have received an element in our options and our code should look like this now:</p>
		<pre>
			<code class="language-javascript">
				var Slider = function(options){
					// check that there was an element sent, otherwise just return
					if(!(options && options.el)){
						return;
					}
					//recieve options, we need the -el- attribute and the duration of the slide on screen
					var slider = {};
					var currentSlide = 0;
					var nextSlide = 1;
					var sliderInterval = false;

					//return the functions we want to reveal
					return {
						//here is where we will return our public functions
					}
				}
			</code>
		</pre>
		<p>
			We are now going to use the properties that we have received in the <span class="code">options</span> object and assign them to properties inside our <span class="code">slider</span> object, we will also get a reference to how many slides have we got inside our slider container so when the time comes to add/remove slide, we will have to remove the html only.
		</p>
		<pre>
			<code class="language-javascript">
				//variables

				slider.el = document.querySelector(options.el); //the slider container
				slider.sliderTimeInterval = options.sliderTimeInterval; //time interval passed by the user
				slider.items = slider.el.querySelectorAll("[class^='main-header']"); //items
				slider.sliderLength = slider.items.length; //how many slides?
				slider.offset = slider.el.children.length - slider.sliderLength; //the slider container's children vs which of those children are actually slides
			</code>
		</pre>
		<p>
			Cool! now that we have most of our variables available, we are going to start by dynamically creating a navigation panel, for this we are going to create the private functions <span class="code">_createNavigation</span> and <span class="code">_addEventListeners</span>, they are private because we will not make them available in the returned object literal.
		</p>
		<p>
			In the <span class="code">_addEventListeners</span> function, we have to use <a href="">event delegation</a> because we are dynamically adding our <span class="code">li</span> elements, we have listen to the click event on their parent instead, the one already exists on our html, and then validate if a <span class="code">li</span> node was clicked by evaluating the <span class="code">event.target</span> element.
		</p>
		<pre>
			<code class="language-javascript">
				function _createNavigation(){
					//create the -buttons- to navigate between slides
					var ulSlider = slider.el.querySelector('.slider-nav'); //position this where you want your navigation buttons to be with CSS
					for (var i = 0; i< slider.sliderLength ; i++){
						if (i === 0){
							var newLIActive = document.createElement('li');
							newLIActive.className = 'active-button';
							ulSlider.appendChild(newLIActive);	
						}
						else{
							var newLI = document.createElement('li');
							ulSlider.appendChild(newLI);
						}
					}
					_addEventListeners();
				};

				function _addEventListeners(){
					// add event binders to the dynamically added li elements
					slider.el.querySelector('.slider-nav').addEventListener('click', function(event) {
						//create our event delegation
						if (event.target && event.target.nodeName == "LI"){
							//set this -> this will be the link to be the next slide, stop the function interval and start it again 
							nextSlide = indexInParent(event.target);

							//we have to implement these functions next
							//_startSlider();
							//startSliderInterval();
						}
					});
				}
			</code>
		</pre>
		<p>
			As you can see in the code above, we have two functions that we have commented out, these are 
		</p>
	</section>
	<footer>
		<a href="">
			<p>The whole code is avilable on Github, check it out!</p>
			<div class="img-container">
				<img src="./img/GitHub-Mark-Light-32px.png" alt="">
				<span></span>
			</div>
		</a>
	</footer>
	<script src="js/prism.js"></script>
	<script src="js/script.js"></script>
</body>
</html>